# 集群
从v0.1.4开始，TeaWeb支持一个简易的集群，通过提供一个集群控制台来管理，目前主要实现在同一个集群中多个节点之间的的配置复制、自动加载新的配置。

快捷帮助链接：
* [原理](#原理)
* [安装集群控制台](Install.md)
* [配置集群](Config.md)
* [节点配置](Node.md)

## 原理
TeaWeb的集群原理如下：
~~~
|---------------|    push    |------------------|   notify   |------------------|
|  Master Node  |   ----->   | Cluster Console  |  --------> | Node1, Node2, ...|
|---------------|            |------------------|  <-------> |------------------|
                                                     pull
~~~
* `Cluster Console` - 集群控制台，负责集群配置、节点之间的通讯，并提供一个UI界面帮助我们直观地查看集群和节点状态
* `Node` - 节点，每一个安装的TeaWeb实例为一个节点，节点按角色划分为`Master`（主节点）和`Slave`（从节点）：
  * `Master` - 主节点，每个集群中只能有一个主节点，如果当前集群已经有一个主节点了，再试图注册成为`Master`，将会提示失败； 
  * `Slave` - 从节点，主节点的每次向`Cluster Console`通过推送（`push`）方法提交的配置，会自动发送通知（`notify`）到各个从节点，然后从节点从`Cluster Console`拉取（`pull`）新的配置，并在拉取完成后自动启用新的配置

## 建立集群
要想建立一个集群，需要通过以下几个步骤：
1. [安装集群控制台](Install.md)
2. [配置集群](Config.md)
3. [节点配置](Node.md)